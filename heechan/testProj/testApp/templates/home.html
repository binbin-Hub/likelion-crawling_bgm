<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div style="width: 30px; height: 30px; background-color: aquamarine;">
    <audio id="autoplayer" onended="javascript:nextPlay()" controls>
      <!-- {% for src in arr %} -->
      <source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Monplaisir/Heat_of_the_Summer/Monplaisir_-_04_-_Stage_1_Level_24.mp3" type="audio/mp3">
      <!-- {% endfor %} -->
      
    </audio>
  </div>

  <script>
    let arr = "{{arr}}"
    let re = /(http(s)?:\/\/|www.)([a-z0-9\w]+\.*)+[a-z0-9]{2,4}([\/a-z0-9-%#?&=\w])+(\.[a-z0-9]{2,4}(\?[\/a-z0-9-%#?&=\w]+)*)*/g;
    let result = arr.match(re);
    
    let i = 1
    function nextPlay() {
      console.log(i);
      document.getElementById('autoplayer').src = result[i]
      let media = document.getElementById('autoplayer');
      media.currentTime = 0;
      media.play();
      i += 1
    }
  </script>
  
</body>

</html>